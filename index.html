<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Isometric Resort Map</title>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <link rel="stylesheet" href="styles.css?v=20260203-2" />

</head>
<body>
  <div id="map"></div>
  <div id="mapDim" class="map-dim hidden"></div>

  <div id="loader" style="
    position: fixed;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #000;
    color: #fff;
    z-index: 1200;
    font-weight: 700;
    font-size: 16px;
  ">
  Загрузка схемы…
  </div>

  <div id="loadError" style="
    display:none;
    position: fixed;
    inset: 0;
    padding: 18px;
    background: rgba(0,0,0,0.92);
    color: #fff;
    z-index: 1300;
    font-weight: 700;
  ">
    Ошибка загрузки схемы. Проверь файлы в папке <b>data/</b> и пути к ним.
  </div>


  <!-- Bottom sheet -->
  <div id="sheet" class="sheet hidden" role="dialog" aria-modal="true">
    <div class="sheet__handle"></div>
    <button id="sheetClose" class="sheet__close" aria-label="Закрыть">✕</button>

    <div class="sheet__content">
      <!-- ✅ Фото (появится только если есть item.photo в catalog.json) -->
      <img id="sheetPhoto" class="sheet__photo hidden" alt="" />
      <div id="sheetNoPhoto" class="sheet__no-photo hidden">
      Фото скоро появится
      </div>

      <div id="sheetTitle" class="sheet__title">Объект</div>
      <div id="sheetSubtitle" class="sheet__subtitle"></div>

      <!-- ✅ Чипсы (chips[] из catalog.json) -->
      <div id="sheetDesc" class="sheet__desc">
      Описание…
      </div>

      <div id="sheetChips" class="sheet__chips"></div>

      <!-- ✅ Кнопки действий -->
      <div class="sheet__actions hidden">

        <a id="sheetBtnDetails" class="sheet__btn hidden" href="#" target="_blank" rel="noopener">
          Подробнее
        </a>
        <a id="sheetBtnCall" class="sheet__btn hidden secondary" href="#" rel="noopener">
          Позвонить
        </a>
      </div>

      <div id="sheetMeta" class="sheet__meta"></div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- ✅ Telegram WebApp API -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <script src="app.js?v=20260122-1"></script>
</body>
</html>
